<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funnel</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .header {
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .header h1 {
            color: #333;
            margin: 0;
            font-size: 24px;
        }
        #chart {
            width: 100%;
            height: 500px;
            min-height: 400px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Funnel</h1>
        </div>
        <div id="chart"></div>
    </div>
    
    <!-- 加载 ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script>
        // 初始化图表
        var chartDom = document.getElementById('chart');
        var myChart = echarts.init(chartDom);
        
        // ECharts 配置
        var option = {
  "title": {
    "text": "Funnel",
    "left": "5%",
    "top": "92%",
    "textStyle": {
      "fontSize": 18,
      "fontWeight": "bold"
    }
  },
  "tooltip": {
    "trigger": "item",
    "formatter": "{b}: {c}"
  },
  "legend": {
    "data": [
      "Show",
      "Click",
      "Visit",
      "Inquiry",
      "Order"
    ],
    "orient": "vertical",
    "left": "5%",
    "top": "55%",
    "textStyle": {
      "fontSize": 12
    }
  },
  "series": [
    {
      "name": "菱形上半",
      "type": "funnel",
      "left": "10%",
      "top": "2%",
      "width": "30%",
      "height": "46%",
      "sort": "ascending",
      "gap": 0,
      "minSize": "5%",
      "maxSize": "100%",
      "label": {
        "show": true,
        "position": "right",
        "fontSize": 12
      },
      "labelLine": {
        "show": true,
        "length": 20
      },
      "data": [
        {
          "value": 20,
          "name": "Order",
          "itemStyle": {
            "color": "#3d405b"
          }
        },
        {
          "value": 40,
          "name": "Inquiry",
          "itemStyle": {
            "color": "#a7c957"
          }
        },
        {
          "value": 60,
          "name": "Visit",
          "itemStyle": {
            "color": "#4361ee"
          }
        },
        {
          "value": 80,
          "name": "Click",
          "itemStyle": {
            "color": "#f4a261"
          }
        },
        {
          "value": 100,
          "name": "Show",
          "itemStyle": {
            "color": "#00b4d8"
          }
        }
      ]
    },
    {
      "name": "菱形下半",
      "type": "funnel",
      "left": "10%",
      "top": "52%",
      "width": "30%",
      "height": "46%",
      "sort": "descending",
      "gap": 0,
      "minSize": "5%",
      "maxSize": "100%",
      "label": {
        "show": true,
        "position": "right",
        "fontSize": 12
      },
      "labelLine": {
        "show": true,
        "length": 20
      },
      "data": [
        {
          "value": 100,
          "name": "Show",
          "itemStyle": {
            "color": "#00b4d8"
          }
        },
        {
          "value": 80,
          "name": "Click",
          "itemStyle": {
            "color": "#f4a261"
          }
        },
        {
          "value": 60,
          "name": "Visit",
          "itemStyle": {
            "color": "#00b4d8"
          }
        },
        {
          "value": 40,
          "name": "Inquiry",
          "itemStyle": {
            "color": "#a7c957"
          }
        },
        {
          "value": 20,
          "name": "Order",
          "itemStyle": {
            "color": "#3d405b"
          }
        }
      ]
    },
    {
      "name": "漏斗上半",
      "type": "funnel",
      "left": "55%",
      "top": "2%",
      "width": "35%",
      "height": "46%",
      "sort": "descending",
      "gap": 0,
      "minSize": "5%",
      "maxSize": "100%",
      "label": {
        "show": true,
        "position": "left",
        "fontSize": 12
      },
      "labelLine": {
        "show": true,
        "length": 20
      },
      "data": [
        {
          "value": 100,
          "name": "Show",
          "itemStyle": {
            "color": "#00b4d8"
          }
        },
        {
          "value": 80,
          "name": "Click",
          "itemStyle": {
            "color": "#f4a261"
          }
        },
        {
          "value": 60,
          "name": "Visit",
          "itemStyle": {
            "color": "#4361ee"
          }
        },
        {
          "value": 40,
          "name": "Inquiry",
          "itemStyle": {
            "color": "#a7c957"
          }
        },
        {
          "value": 20,
          "name": "Order",
          "itemStyle": {
            "color": "#3d405b"
          }
        }
      ]
    },
    {
      "name": "漏斗下半",
      "type": "funnel",
      "left": "55%",
      "top": "52%",
      "width": "35%",
      "height": "46%",
      "sort": "ascending",
      "gap": 0,
      "minSize": "5%",
      "maxSize": "100%",
      "label": {
        "show": true,
        "position": "left",
        "fontSize": 12
      },
      "labelLine": {
        "show": true,
        "length": 20
      },
      "data": [
        {
          "value": 20,
          "name": "Order",
          "itemStyle": {
            "color": "#3d405b"
          }
        },
        {
          "value": 35,
          "name": "Inquiry",
          "itemStyle": {
            "color": "#a7c957"
          }
        },
        {
          "value": 55,
          "name": "Visit",
          "itemStyle": {
            "color": "#4361ee"
          }
        },
        {
          "value": 75,
          "name": "Click",
          "itemStyle": {
            "color": "#f4a261"
          }
        },
        {
          "value": 100,
          "name": "Show",
          "itemStyle": {
            "color": "#00b4d8"
          }
        }
      ]
    }
  ]
};
        
        // 渲染图表
        myChart.setOption(option);
        
        // 响应窗口大小变化
        window.addEventListener('resize', function() {
            myChart.resize();
        });
        
        // 显示加载状态（如果有问题）
        myChart.showLoading();
        setTimeout(function() {
            myChart.hideLoading();
        }, 500);
    </script>
</body>
</html>